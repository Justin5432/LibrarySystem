@model IEnumerable<test2.Models.Client>

@{
    var client = Model.FirstOrDefault();
}

<div class="container" style="width:100%">
    <!-- 租借資訊 -->
    <!-- 租借項目|抬頭 -->
    <div class="container-fluid card col-8 shadow-lg rounded-5 p-5" style="width:100%">
        <table class="table table-striped table-hover align-middle" style="table-layout: fixed;">
            <thead class="table-light text-center">
                <tr>
					<th>活動名稱</th>
                    <th>報名日期</th>
                    <th>報名狀態</th>
                </tr>
            </thead>
            <tbody class="text-center">
                @if (client != null && client.Participations != null && client.Participations.Any())
                {
                    // 檢查 client 和 Participations 集合是否為 null，避免空值錯誤
                    // 使用 .Reverse() 來顯示最新的報名紀錄
                    @foreach (var participation in client.Participations.Reverse())
                    {
                        <tr>
                            <td>@participation.Activity.ActivityTitle</td>
                            <td>@participation.ParticipationDate.ToString("yyyy-MM-dd")</td>
                            <td><span class="badge bg-secondary" style="font-size: 1rem">@participation.ParticipationStatus.ParticipationStatus1</span></td>
                        </tr>
                    }
                }
                else
                {
                    // 當沒有報名紀錄時，顯示提示訊息
                    <tr>
                        <td colspan="5">目前沒有任何活動報名紀錄。</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>