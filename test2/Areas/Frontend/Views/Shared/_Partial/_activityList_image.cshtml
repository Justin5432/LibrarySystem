@model test2.Areas.Frontend.Models.ViewModels.ActivityPagedViewModel

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 activity-cards-container-bs mb-5"
	 id="activityCardsContainer">
	@foreach (var activity in Model.Activities)
	{
		<div class="col activity-card-col">
			<div class="card h-100 activity-card-bs">
				<a href="@Url.Action("ActivityInfo", "Home", new { activityTitle = activity.ActivityTitle })">
					<img src="data:img/jpeg;base64,@activity.ActivityImgBase64" class="card-img-top card-image-bs"
						 alt="@activity.ActivityTitle">
				</a>
				<div class="card-body d-flex flex-column">
					<h5 class="card-title fw-bold">@activity.ActivityTitle</h5>
					<div class="flex-grow-1"></div>
					<p class="card-text text-muted mb-1"><small>活動起訖：</small></p>
					<p class="card-text text-muted mb-1">
						<small>
							@activity.StartDate.ToString("yyyy/MM/dd/hh:mm") ~
							<br>
							@activity.EndDate.ToString("yyyy/MM/dd/hh:mm")
						</small>
					</p>
					<p class="card-text text-muted mb-2"><small>地點：國立公共資訊圖書館</small></p>
					<div class="activity-tags-bs mb-3">
						<span class="badge bg-light text-dark me-1 mb-1">@(activity.Audience?.Audience1 ?? "無受眾種類資料")</span>
						<span class="badge bg-light text-dark me-1 mb-1">@(activity.ActivityType?.ActivityType1 ?? "無活動類型資料")</span>
					</div>
					@if ((DateTime.Now >= activity.StartDate && DateTime.Now <= activity.EndDate) != true)
					{
						<button class="btn btn-primary mt-auto register-btn-bs disabled">不在報名時間內</button>
					}
					else if (activity.Capacity == -1)
					{
						<button class="btn btn-primary mt-auto register-btn-bs disabled">無需報名</button>
					}
					else if (activity.Capacity == 0)
					{
						<button class="btn btn-primary mt-auto register-btn-bs disabled">名額已滿</button>
					}
					else if (activity.Capacity != 0 && DateTime.Now >= activity.StartDate && DateTime.Now <= activity.EndDate)
					{
						<button class="btn btn-primary mt-auto register-btn-bs">點我報名</button>
					}
					else
					{
						<button class="btn btn-primary mt-auto register-btn-bs disabled">暫時無法報名</button>
					}
				</div>
			</div>
		</div>
	}
</div>

<div id="partialMeta" data-total-pages="@Model.TotalPages" data-current-page="@Model.CurrentPage"></div>
